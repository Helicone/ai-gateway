---
description:
globs:
alwaysApply: false
---
# Database Migrations and SQLx

This document outlines the database migration setup and SQLx metadata usage.

## Prerequisites

- Install the SQLx CLI: `cargo install sqlx-cli --no-default-features --features postgres`.
- Ensure environment variable `DATABASE_URL` is set (e.g., via `.envrc`).

## Migrations Directory

- [migrations/](mdc:migrations): Contains SQL migration scripts, named sequentially.
- Example: [migrations/20250416051110_initial-up.sql](mdc:migrations/20250416051110_initial-up.sql)

## Running Migrations

- Run `cargo sqlx migrate run` to apply migrations.
- Run `cargo sqlx prepare` to update SQLx query metadata.

## SQLx Query Metadata

- [.sqlx/](mdc:.sqlx): JSON files generated by SQLx for offline query verification.
